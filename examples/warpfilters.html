<html>
    <head>
        <title>Rust Web View</title>
        <meta charset="utf-8"/>
    </head>

    <body>
        <h1>Rust Web View with warp filters</h1>
        <p>
            This is a sample page for displaying in <em>Rust Web View</em>
        </p>
        <p>
            <button onclick="getJson()">get JSON</button>
        </p>
        <p>
            <button onclick="postJson()">post JSON</button>
        </p>

        <script>
            getJson = async () => {
                const responseStr = await fetch('/requests/getitem')
                const response = await responseStr.json()
                console.log("response", response)
            }

            postJson = async () => {
                const path = '/home/uwe/documents'
                const responseStr = await fetch('/requests/postitem', {
                    method: "POST", 
                    headers: {
                        "Content-Type": "application/json"
                    },            
                    body: JSON.stringify({
                        path
                    }) 
                })
                const response = await responseStr.json()
                console.log("response", response)
            }
        </script>
    </body> 
</html>